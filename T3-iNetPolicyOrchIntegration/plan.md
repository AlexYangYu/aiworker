# 防火墙策略整合云数据中心安全组下发流程

## 拓扑整合

- 云数据中心作为节点加入到现有的物理拓扑

## 需求分析

- 没有修改

## 路径分析

- 谢宇 提出方案，杨雨 实现接口
- 杨雨 路径分析结果的展示，云数据中心的如何展示？

### 输入

保持不变

### 输出

<a href="#output">

**内容样式**

| 云数据中心 | 源地址 | 目的地址 | 协议-端口 |
| --- | --- | --- | --- |
| 阿里云-河源 | 10.100.100.100 | 192.168.1.0/24 | TCP/80 |
| 华为云-贵阳 | 10.100.100.100 | 192.168.2.0/24 | TCP/80 |

**数据结构**

```json
{
  "clouddc_path_analyze_result": [
    {
      "devideId": "xxx-xxx", // 云数据中心的设备ID
      "name": "阿里云-河源", // 云数据中心的名称
      "source": "10.100.100.100", // 源地址
      "destination": "192.168.1.0/24", // 目的地址
      "protocol": "TCP", // 协议
      "port": {
        "start": 80,
        "end": 80
      }
    },
    {
      "devideId": "xxx-xxx", // 云数据中心的设备ID
      "name": "华为云-贵阳", // 云数据中心的名称
      "source": "10.100.100.100", // 源地址， 或
      "destination": "192.168.2.0/24", // 目的地址
      "protocol": "TCP", // 协议
      "port": {
        "start": 80,
        "end": 80
      }
    }
  ]
}
```

### 实现逻辑

> TODO


## 关联分析

### 关联分析的目

- 分析需求是否已经满足
- 分析需求是否有冲突的策略
- 确定新策略的下发位置

### 输入

[路径分析输出](#output)

### 输出

**内容样式**

安全组策略

| 云数据中心 | 分析结果 | 安全组 | 方向 | 地址 | 协议-端口 | 描述 |
| --- | --- | --- | --- | --- | --- | --- |
| 阿里云-河源 | 已满足 | sg-xxx | 192.168.1.0/24 | TCP/80 |  |
| 华为云-贵阳 | 新增 | sg-yyy | 192.168.2.0/24 | TCP/80 |
| 华为云-贵阳 | 冲突 | sg-yyy | 192.168.2.0/24 | TCP/80 |

**数据结构**

分析结果
### 逻辑


## 对象分析

## 策略下发

## 配置更新

## 配置检查
